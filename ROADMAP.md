# Anti-Shop 電商專案開發路線圖

> 最後更新：2025-11-20

## 📋 已完成功能

### 核心功能
- ✅ 產品列表展示
- ✅ 產品詳情頁
- ✅ 購物車系統（Pinia + localStorage）
- ✅ 基礎結帳流程
- ✅ 資料庫整合（SQLite + Drizzle ORM）
- ✅ API 路由（產品查詢）
- ✅ SEO 優化
- ✅ 響應式設計

### 用戶認證系統 ✨ **NEW**
- ✅ 安裝並配置 nuxt-auth-utils
- ✅ 擴展資料庫 schema（users 表）
- ✅ 密碼雜湊（scrypt）
- ✅ 登入頁面（/login）
- ✅ 註冊頁面（/register）
- ✅ 認證 API 路由
  - POST /api/auth/register
  - POST /api/auth/login
  - POST /api/auth/logout
- ✅ Header 顯示用戶狀態
- ✅ 認證中間件（middleware/auth.ts）
- ✅ 保護需登入的路由（結帳頁）
- ✅ 登入後重定向支援

---

## 🎯 第一階段：核心功能完善

### 1. 用戶認證系統 ⭐⭐⭐ ✅ **已完成**
- ✅ 安裝並配置認證套件（nuxt-auth-utils）
- ✅ 擴展資料庫 schema（users 表）
- ✅ 創建登入頁面
- ✅ 創建註冊頁面
- ✅ 實作登入/註冊 API
- ✅ 更新 Header（顯示用戶狀態）
- ✅ 保護需登入的路由

### 2. 訂單管理系統 ⭐⭐⭐ ✅ **已完成**
- [x] 設計訂單資料庫結構
  - [x] users 表
  - [x] orders 表（訂單主表）
  - [x] order_items 表（訂單明細）
- [x] 將結帳流程與資料庫連接
- [x] 創建訂單歷史頁面
- [x] 實作訂單狀態追蹤
- [x] 訂單詳情查看頁面

### 3. 支付整合 ⭐⭐
- [ ] 選擇支付方案（Stripe / ECPay / 綠界）
- [ ] 串接支付 API
- [ ] 實作支付成功/失敗處理
- [ ] 將支付狀態與訂單關聯

---

## 🛍️ 第二階段：產品功能強化

### 4. 產品分類系統 ⭐⭐ ✅ **已完成**
- [x] 資料庫新增 categories 表
- [x] 產品與分類關聯（多對多或一對多）
- [x] 分類導航元件
- [x] 依分類篩選產品

### 5. 搜尋與篩選功能 ⭐⭐ ✅ **已完成**
- [x] 產品名稱全文搜尋
- [x] 價格範圍篩選
- [x] 分類篩選
- [x] 排序功能（價格高低、新品、熱門）
- [x] 搜尋結果頁面

### 6. 產品進階功能 ⭐
- [ ] 產品規格系統（尺寸、顏色）
- [ ] 多圖片畫廊
- [ ] 庫存管理（stock 欄位）
- [ ] 產品評論系統（reviews 表）
- [ ] 產品評分顯示
- [ ] 相關產品推薦

---

## 🎨 第三階段：後台管理

### 7. 管理員面板 ⭐⭐
- [ ] 管理員角色與權限
- [ ] 管理後台佈局
- [ ] 產品管理介面（CRUD）
- [ ] 訂單管理介面
- [ ] 用戶管理介面
- [ ] 數據統計儀表板

---

## 💡 第四階段：體驗優化

### 8. 優惠券系統 ⭐
- [ ] coupons 表設計
- [ ] 折扣碼輸入介面
- [ ] 優惠券驗證邏輯
- [ ] 購物車折扣計算

### 9. 其他 UX 改進
- [ ] 運費計算系統
- [ ] 用戶地址簿
- [ ] 願望清單功能
- [ ] 最近瀏覽記錄
- [ ] 產品收藏功能

### 10. 通知系統 📧
- [ ] Email 服務整合（Resend / Sendgrid）
- [ ] 訂單確認信
- [ ] 出貨通知信
- [ ] 密碼重置信
- [ ] Newsletter 訂閱

---

## 🔧 第五階段：技術改進

### 11. 修復技術債務
- [ ] 啟用 TypeScript 檢查（修復 bun:sqlite 類型問題）
- [ ] 將 package.json name 改為 "anti-shop"
- [ ] 實現 Material Icons 或改用 SVG icons
- [ ] 環境變數管理（.env）
- [ ] API 錯誤日誌系統

### 12. 測試覆蓋
- [ ] 安裝測試框架（Vitest）
- [ ] 單元測試（composables, utils）
- [ ] 組件測試（Vue Test Utils）
- [ ] E2E 測試（Playwright）
- [ ] API 測試

### 13. 性能與 SEO
- [ ] 圖片優化（@nuxt/image）
- [ ] 實現 CDN
- [ ] 生成 sitemap
- [ ] robots.txt
- [ ] Google Analytics 整合
- [ ] 快取策略（Redis）

### 14. 安全性強化
- [ ] CSRF 保護
- [ ] XSS 防護
- [ ] Rate Limiting
- [ ] 密碼雜湊（bcrypt / argon2）
- [ ] SQL Injection 防護檢查
- [ ] HTTPS 強制

---

## 🌍 第六階段：國際化

### 15. 多語言支援
- [ ] 安裝 @nuxtjs/i18n
- [ ] 繁體中文
- [ ] 英文
- [ ] 語言切換器

### 16. 多幣別支援
- [ ] 幣別資料表
- [ ] 匯率 API 整合
- [ ] 價格顯示切換

---

## 📚 第七階段：內容頁面

### 17. 資訊頁面
- [ ] 關於我們
- [ ] 聯絡我們
- [ ] FAQ
- [ ] 隱私政策
- [ ] 服務條款
- [ ] 退換貨政策

---

## 🚀 部署與維運

### 18. 部署設定
- [ ] 選擇雲端平台（Vercel / Netlify / Railway）
- [ ] CI/CD 設定
- [ ] 環境變數配置
- [ ] 資料庫遷移流程
- [ ] 監控與日誌（Sentry）

---

## 📝 開發原則

1. **優先級**: ⭐⭐⭐ 高優先級 > ⭐⭐ 中優先級 > ⭐ 低優先級
2. **測試驅動**: 重要功能需添加測試
3. **程式碼品質**: 保持 TypeScript 完整性
4. **安全第一**: 所有用戶輸入需驗證
5. **效能考量**: 大量資料需實作分頁
6. **SEO 友善**: 所有頁面需有適當 meta tags

---

## 🔄 版本歷史

- **v0.1.0** (current) - 用戶認證系統 ✅
  - 完整的註冊/登入/登出功能
  - 密碼雜湊與安全性
  - 路由保護中間件
  - Session 管理
- **v0.0.0** (completed) - MVP 基礎功能
  - 產品展示與詳情
  - 購物車系統
  - 基礎結帳流程
- **v0.2.0** (completed) - 訂單管理系統
  - 訂單建立與查詢
  - 訂單歷史與詳情
- **v0.3.0** (planned) - 產品分類系統
- **v0.3.0** (planned) - 支付整合
- **v0.4.0** (planned) - 後台管理
- **v1.0.0** (planned) - 正式版本
